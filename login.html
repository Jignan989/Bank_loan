<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CBI Bank • Login</title>
<style>
  :root{--brand:#0b3a75;--ink:#0e1a2b;--muted:#667085;--soft:#f5f7fb;--radius:14px;--shadow:0 8px 24px rgba(16,24,40,.08)}
  *{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:#fff}
  a{color:inherit;text-decoration:none}
  .container{max-width:960px;margin:0 auto;padding:0 16px}

  /* navbar */
  .nav{position:sticky;top:0;z-index:100;background:var(--brand);color:#fff}
  .nav-inner{display:flex;align-items:center;gap:12px;padding:12px 0}
  .brand{font-weight:800}
  .menu{display:flex;align-items:center;gap:22px;flex:1;margin-left:18px}
  .menu a,.menu button{color:#fff;background:transparent;border:0;padding:10px 12px;border-radius:10px;cursor:pointer}
  .menu a:hover,.menu button:hover{background:rgba(255,255,255,.12)}
  .push-right{margin-left:auto}
  .drop{position:relative}
  .drop[aria-expanded="true"] .panel{display:block}
  .panel{display:none;position:absolute;left:0;top:100%;min-width:200px;background:#fff;color:var(--ink);border-radius:12px;box-shadow:var(--shadow);overflow:hidden}
  .panel a{display:block;padding:10px 14px}
  .panel a:hover{background:#f2f6ff}
  .burger{display:none}
  @media(max-width:820px){
    .burger{display:block;background:transparent;border:0;color:#fff;font-size:18px;padding:10px}
    .menu{display:none;flex-direction:column;align-items:flex-start;background:var(--brand);padding:8px;border-radius:14px;margin-left:0;gap:10px}
    .menu.show{display:flex}
    .panel{position:static;box-shadow:none;border-radius:10px;margin-left:8px}
    .push-right{margin-left:0}
  }

  /* page */
  .wrap{display:grid;place-items:center;min-height:calc(100dvh - 64px);background:var(--soft);padding:28px 16px}
  .card{background:#fff;border-radius:16px;box-shadow:var(--shadow);padding:22px;max-width:420px;width:100%}
  .card h1{margin:0 0 6px;font-size:22px}
  .card p{margin:0 0 18px;color:var(--muted)}
  .field{margin-bottom:14px}
  .field label{display:block;font-size:14px;margin-bottom:6px}
  .field input{width:100%;padding:12px 12px;border:1px solid #e4e7ec;border-radius:10px;font-size:15px}
  .row{display:flex;justify-content:space-between;align-items:center;gap:10px}
  .btn{display:inline-block;padding:12px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
  .btn-primary{background:var(--brand);color:#fff}
  .btn-ghost{background:transparent;color:var(--brand)}
  .note{font-size:13px;color:var(--muted)}
  .err{color:#b42318;font-size:13px;margin:6px 0 0;display:none}
</style>
</head>
<body>
  <!-- NAV -->
  <nav class="nav" role="navigation">
    <div class="container nav-inner">
      <a class="brand" href="index.html">CBI Bank</a>
      <button class="burger" aria-controls="menu" aria-expanded="false">☰ Menu</button>
      <div id="menu" class="menu" role="menubar">
        <a href="about.html">About</a>
        <div class="drop" aria-expanded="false">
          <button aria-haspopup="true" aria-expanded="false">Loans ▾</button>
          <div class="panel" role="menu">
            <a href="home-loan.html">Home Loan</a>
            <a href="vehicle-loan.html">Vehicle Loan</a>
            <a href="personal-loan.html">Personal Loan</a>
          </div>
        </div>
        <a href="faq.html">FAQs</a>
        <a href="contact.html">Contact</a>
        <a href="emi.html">EMI Calculator</a>
        <a href="login.html" class="push-right" style="font-weight:700;">Login</a>
      </div>
    </div>
  </nav>

  <!-- CONTENT -->
  <main class="wrap">
    <form class="card" id="loginForm" autocomplete="on">
      <h1>Login</h1>
      <p class="note">Use your <b>Customer ID</b> or <b>Email</b> plus password.</p>

      <div class="field">
        <label for="uid">Customer ID or Email</label>
        <input id="uid" name="uid" type="text" required autocomplete="username" placeholder="e.g., CBI123456 or you@example.com">
      </div>

      <div class="field">
        <label for="pwd">Password</label>
        <input id="pwd" name="pwd" type="password" required minlength="8" autocomplete="current-password" placeholder="••••••••">
        <div class="err" id="err"></div>
      </div>

      <div class="row" style="margin-top:4px">
        <button type="submit" class="btn btn-primary" style="flex:1">Sign in</button>
        <a class="btn btn-ghost" href="#" id="forgotBtn">Forgot?</a>
      </div>

      <p class="note" style="margin-top:14px">
        New here? <a href="register.html">Create an account</a>
      </p>
    </form>
  </main>

<script>
  // mobile menu + dropdown
  const burger=document.querySelector('.burger'),menu=document.getElementById('menu');
  burger.addEventListener('click',()=>{const s=menu.classList.toggle('show');burger.setAttribute('aria-expanded',s)});
  const drop=document.querySelector('.drop'),dropBtn=drop.querySelector('button');
  dropBtn.addEventListener('click',()=>{const o=drop.getAttribute('aria-expanded')==='true';drop.setAttribute('aria-expanded',!o);dropBtn.setAttribute('aria-expanded',!o)});
  document.addEventListener('click',e=>{if(!drop.contains(e.target)) {drop.setAttribute('aria-expanded','false');dropBtn.setAttribute('aria-expanded','false')}});

  // demo auth with localStorage (for prototype only)
  function getUsers(){try{return JSON.parse(localStorage.getItem('cbi_users')||'[]')}catch(e){return []}}
  function findUser(handle){
    const u=getUsers();
    return u.find(x=> (x.email||'').toLowerCase()===handle.toLowerCase() || (x.custId||'').toLowerCase()===handle.toLowerCase());
  }

  document.getElementById('loginForm').addEventListener('submit',e=>{
    e.preventDefault();
    const id=document.getElementById('uid').value.trim();
    const pw=document.getElementById('pwd').value;
    const u=findUser(id);
    const err=document.getElementById('err');
    if(!u){ err.textContent='Account not found. Please register.'; err.style.display='block'; return }
    if(u.password!==pw){ err.textContent='Incorrect password. Try again.'; err.style.display='block'; return }
    err.style.display='none';
    alert('Login successful. Welcome, '+ (u.name||'Customer') + '!');
    location.href='index.html';
  });

  document.getElementById('forgotBtn').addEventListener('click',e=>{
    e.preventDefault();
    const email=prompt('Enter your registered email to reset password:');
    if(!email) return;
    const u=findUser(email);
    alert(u ? 'Password reset link sent to '+email+' (demo).' : 'No account found for '+email+'.');
  });
</script>
</body>
</html>
