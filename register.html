<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CBI Bank • Registration</title>
<style>
  :root{--brand:#0b3a75;--ink:#0e1a2b;--muted:#667085;--soft:#f5f7fb;--radius:14px;--shadow:0 8px 24px rgba(16,24,40,.08)}
  *{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:#fff}
  a{color:inherit;text-decoration:none}
  .container{max-width:960px;margin:0 auto;padding:0 16px}

  /* navbar (same as login) */
  .nav{position:sticky;top:0;z-index:100;background:var(--brand);color:#fff}
  .nav-inner{display:flex;align-items:center;gap:12px;padding:12px 0}
  .brand{font-weight:800}
  .menu{display:flex;align-items:center;gap:22px;flex:1;margin-left:18px}
  .menu a,.menu button{color:#fff;background:transparent;border:0;padding:10px 12px;border-radius:10px;cursor:pointer}
  .menu a:hover,.menu button:hover{background:rgba(255,255,255,.12)}
  .push-right{margin-left:auto}
  .drop{position:relative}
  .drop[aria-expanded="true"] .panel{display:block}
  .panel{display:none;position:absolute;left:0;top:100%;min-width:200px;background:#fff;color:var(--ink);border-radius:12px;box-shadow:var(--shadow);overflow:hidden}
  .panel a{display:block;padding:10px 14px}
  .panel a:hover{background:#f2f6ff}
  .burger{display:none}
  @media(max-width:820px){
    .burger{display:block;background:transparent;border:0;color:#fff;font-size:18px;padding:10px}
    .menu{display:none;flex-direction:column;align-items:flex-start;background:var(--brand);padding:8px;border-radius:14px;margin-left:0;gap:10px}
    .menu.show{display:flex}
    .panel{position:static;box-shadow:none;border-radius:10px;margin-left:8px}
    .push-right{margin-left:0}
  }

  /* form */
  .wrap{display:grid;place-items:center;min-height:calc(100dvh - 64px);background:var(--soft);padding:28px 16px}
  .card{background:#fff;border-radius:16px;box-shadow:var(--shadow);padding:22px;max-width:680px;width:100%}
  .card h1{margin:0 0 6px;font-size:22px}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
  @media(max-width:720px){ .grid{grid-template-columns:1fr} }
  label{display:block;font-size:14px;margin-bottom:6px}
  input,textarea{width:100%;padding:12px;border:1px solid #e4e7ec;border-radius:10px;font-size:15px}
  textarea{min-height:84px;resize:vertical}
  .note{font-size:13px;color:var(--muted)}
  .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  .btn{display:inline-block;padding:12px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
  .btn-primary{background:var(--brand);color:#fff}
  .badge{display:inline-block;background:#eef4ff;color:var(--brand);padding:8px 10px;border-radius:999px;font-weight:700}
  .hidden{display:none}
</style>
</head>
<body>
  <!-- NAV -->
  <nav class="nav" role="navigation">
    <div class="container nav-inner">
      <a class="brand" href="index.html">CBI Bank</a>
      <button class="burger" aria-controls="menu" aria-expanded="false">☰ Menu</button>
      <div id="menu" class="menu" role="menubar">
        <a href="about.html">About</a>
        <div class="drop" aria-expanded="false">
          <button aria-haspopup="true" aria-expanded="false">Loans ▾</button>
          <div class="panel" role="menu">
            <a href="home-loan.html">Home Loan</a>
            <a href="vehicle-loan.html">Vehicle Loan</a>
            <a href="personal-loan.html">Personal Loan</a>
          </div>
        </div>
        <a href="faq.html">FAQs</a>
        <a href="contact.html">Contact</a>
        <a href="emi.html">EMI Calculator</a>
        <a href="login.html" class="push-right" style="font-weight:700;">Login</a>
      </div>
    </div>
  </nav>

  <!-- CONTENT -->
  <main class="wrap">
    <form class="card" id="regForm" enctype="multipart/form-data" autocomplete="on">
      <h1>Customer Registration</h1>
      <p class="note">Fields marked * are required. A Customer ID will be generated.</p>

      <div class="grid">
        <div>
          <label for="name">Full name *</label>
          <input id="name" name="name" required placeholder="Your name">
        </div>

        <div>
          <label for="email">Email *</label>
          <input id="email" name="email" type="email" required autocomplete="email" placeholder="you@example.com">
        </div>

        <div>
          <label for="phone">Phone *</label>
          <input id="phone" name="phone" type="tel" required pattern="[0-9]{10,}" placeholder="10+ digits">
        </div>

        <div>
          <label for="password">Password *</label>
          <input id="password" name="password" type="password" required minlength="8" autocomplete="new-password" placeholder="Minimum 8 characters">
        </div>

        <div class="grid" style="grid-column:1/-1;grid-template-columns:1fr 1fr;gap:14px">
          <div style="grid-column:1/-1">
            <label for="address">Address *</label>
            <textarea id="address" name="address" required placeholder="Street, City, State, PIN"></textarea>
          </div>
          <div>
            <label for="photo">Photo (optional)</label>
            <input id="photo" name="photo" type="file" accept="image/*">
          </div>
          <div style="display:flex;align-items:flex-end">
            <span id="cidBadge" class="badge hidden">Cust ID: —</span>
          </div>
        </div>
      </div>

      <div class="row" style="margin-top:8px">
        <button type="submit" class="btn btn-primary">Create account</button>
        <span class="note">Already registered? <a href="login.html">Login</a></span>
      </div>
    </form>
  </main>

<script>
  // mobile menu + dropdown
  const burger=document.querySelector('.burger'),menu=document.getElementById('menu');
  burger.addEventListener('click',()=>{const s=menu.classList.toggle('show');burger.setAttribute('aria-expanded',s)});
  const drop=document.querySelector('.drop'),dropBtn=drop.querySelector('button');
  dropBtn.addEventListener('click',()=>{const o=drop.getAttribute('aria-expanded')==='true';drop.setAttribute('aria-expanded',!o);dropBtn.setAttribute('aria-expanded',!o)});
  document.addEventListener('click',e=>{if(!drop.contains(e.target)) {drop.setAttribute('aria-expanded','false');dropBtn.setAttribute('aria-expanded','false')}});

  // localStorage demo store
  function users(){try{return JSON.parse(localStorage.getItem('cbi_users')||'[]')}catch(e){return []}}
  function saveUsers(u){localStorage.setItem('cbi_users',JSON.stringify(u))}
  function genCustId(){return 'CBI'+String(Math.floor(Math.random()*900000)+100000)} // CBI123456

  document.getElementById('regForm').addEventListener('submit',e=>{
    e.preventDefault();
    const f=new FormData(e.target);
    const u={
      name:f.get('name').trim(),
      email:String(f.get('email')).trim(),
      phone:String(f.get('phone')).trim(),
      address:String(f.get('address')).trim(),
      password:String(f.get('password')),
      photo: null // (not stored in demo)
    };

    const all=users();
    if(all.find(x=>x.email.toLowerCase()===u.email.toLowerCase())){
      alert('An account with this email already exists. Please log in.');
      location.href='login.html';
      return;
    }

    u.custId=genCustId();
    all.push(u); saveUsers(all);

    const badge=document.getElementById('cidBadge');
    badge.textContent='Cust ID: '+u.custId;
    badge.classList.remove('hidden');

    alert('Registration successful.\nYour Customer ID: '+u.custId+'\n(Keep it safe!)');
    location.href='login.html';
  });
</script>
</body>
</html>
